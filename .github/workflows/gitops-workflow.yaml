# Code generated by github.com/skillz/cg-gitops/scripts/gen-workflow DO NOT EDIT

## TODO
#name: GitOps Promotions Workflow
#"on":
#  push:
#    branches:
#      - main
#    paths:
#      - deploy/*.yaml
#      - deploy/environments/*/*.yaml
#      - deploy/templates/*.yaml*
#      - .github/workflows/gitops-*.yaml
#  workflow_run:
#    workflows:
#      - Docker Image Build
#    types:
#      - completed
#jobs:
#  dev:
#    needs: []
#    uses: skillz/infra-reusable-workflows/.github/workflows/reusable-cloud-gaming-deploy.yaml@cloud-gaming-deploy-v0.1
#    if: ${{ github.event_name == 'push' || github.event.workflow_run.conclusion == 'success' }}
#    with:
#      gitops_repository_branch: main
#      env_name: dev
#      release_file: release.yaml
#      release_tag: releaseTag
#      gitops_repository: cg-gitops
#      service_name: test-1
#      wait_for_merge: false
#      wait_for_status: true
#      validation_tests: readiness,acceptance
#    secrets:
#      INFRA_BOT_GITHUB_APP_ID: ${{ secrets.INFRA_BOT_GITHUB_APP_ID }}
#      INFRA_BOT_GITHUB_APP_KEY: ${{ secrets.INFRA_BOT_GITHUB_APP_KEY }}
# prod:
#   needs:
#     - dev
#   uses: skillz/infra-reusable-workflows/.github/workflows/reusable-cloud-gaming-deploy.yaml@cloud-gaming-deploy-v0.1
#   if: ${{ github.event_name == 'push' || github.event.workflow_run.conclusion == 'success' }}
#   with:
#     gitops_repository_branch: main
#     env_name: prod
#     release_file: release.yaml
#     release_tag: releaseTag
#     gitops_repository: cg-gitops
#     service_name: test-1
#     wait_for_merge: true
#     wait_for_status: true
#     validation_tests: readiness,acceptance
#   secrets:
#     INFRA_BOT_GITHUB_APP_ID: ${{ secrets.INFRA_BOT_GITHUB_APP_ID }}
#     INFRA_BOT_GITHUB_APP_KEY: ${{ secrets.INFRA_BOT_GITHUB_APP_KEY }}
